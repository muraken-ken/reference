# ソフトウェアテスト技法ドリル【第2版】テスト設計の考え方と実際

## 第１章　点に注意を向ける

### 1.1 ピンポイントテスト

1. 怪しい箇所の認識
   - 最も重要な箇所
   - まぁ重要な箇所
   - 自分が怪しいと感じた箇所
2. 間、対称、類推、外側を考える
3. 意地悪条件を考える

### 過去の経験を活かす

- 探索テスト
  - バグの原因を読んで「どうしてそのようなバグを作りこんでしまったのだろう」と想像する
  - 「知っている」と思ったものほど危険が潜んでいる

## 第２章　線を意識する

### 2.1 同値分割法と境界値分析の基本

1. 境界値分析によるテストケースの作成
   - 同値パーティションと無効同値パーティションの違いを視覚的にわかりやすくする
2. 実数の境界値分析
   - 64.99999 よりは、 65-d として、 d=0.00001と記載する方が良い

### 2.2 同値分割法と境界値分析の応用

- 有効な値（正常系）は複数同時に確認できる
- 無効な値（異常系）は1回1つずつしか確認できない（異常値は他の異常値を隠す）
- 技法に囚われない
  - 何も入力しない
  - 改行コードなどもテストする
- 日付と時刻の境界値
  - どこまで含むか、含まないかを精査すること

### 2.3 ループ境界

- ループカウンタの上限を超えると0に戻る

### 2.4 負荷テスト

- 横軸に接続数、縦軸にCPU使用率、メモリ使用量、トランザクション応答時間 など
- 保証台数を超えたテストも行う

## 第３章　面で逃がさない

### 3.1 ドメイン分析テスト

|名前|説明|x≧10|x＞10|
|---|---|---|---|
|on|着目している境界値|10|10|
|off|onポイントに隣接する境界値|9|11|
|in|ドメインの内側の値（on/offを覗く）|例：15|例：15|
|out|ドメインの外側の値（on/offを覗く）|例：9|例：9|

- ドメイン分析テストマトリクス

|変数|タイプ|1|2|3|4|5|6|
|---|---|---|---|---|---|---|---|
||on|○||||||
|x|off||○|||||
||in|||○|○|○|○|
||on|||○||||
|y|off||||○|||
||in|○|○|||○|○|
||on|||||○||
|z|off||||||○|
||in|○|○|○|○|||
|期待結果||||||||

### 3.2 クラシフィケーションテスト技法

テスト対象の変数を木構造で表したもの

- 区分
  1. 一貫性の法則
  2. 相互排除の原則
  3. 一致の原則
  4. 漸進の原則

### 3.3 デシジョンテーブル

|||1|2|3|4|
|---|---|---|---|---|---|
||品物は書籍|Y|Y|Y|N|
|条件|合計1500円以上|Y|Y|N|-|
||離島以外|Y|N|-|-|
|動作|送料無料|X||||

- パータンが多くなりやすいので、どとらでも良い場合は「-」で表し項目数を減らす

### 3.3 原因結果グラフ

- 電子回路設計のプールグラフをベースに単純な規則を加えデシジョンテーブルを作成する
- 「CEGTest」というソフトが使える

### 3.4 CFD(Cause Flow Diagram)法

- 複雑な論理関係の仕様から重要なテスト条件を漏らさないテスト設計技法
- 原因流れ図を作成し、デシジョンテーブルを作成する

## 第４章　立体で捉える

### 4.1 HAYST法

- 直交表を用いた組合せテスト技法
- 因子数が大きい場合に有効

- HAYST法とペアワイズ法の使い分け（下記が大事ならHAYST法）
  - 3因子以上の組み合わせをバランスよく網羅的に多く出したい
  - テスト項目数をコントロールしたい
  - テスト結果を統計的に数値解析する必要がある
  - 複雑な禁則関係がある
  - テスト結果からバグの原因究明をしたい
  - ハードウェアの因子などの影響によって同じ組み合わせをテストをしてもバグが出たり出なかったりする

1. 因子と水準の抽出
     - 怪しい因子は必ず入れる
     - When、Where、Whoについて考える
     - What、Why、Whomについて考える
     - How、How muchについて考える
2. FV表
  
    |No.|目的機能(Fr)|検証内容(V)|テスト技法(T)|
    |---|---|---|---|
    |||||

3. ラルフチャート

    - 構造構造＋入力＋出力＋ノイズ＋内部変数

4. FL表

    |因子名(Factor)|水準1|水準2|…|水準k|…|水準n|
    |---|---|---|---|---|---|---|
    ||||||||

5. 禁則処理

    - 出現しない組合せなどの確認

6. 直交表への割り付け
7. 網羅率の確認

### 4.2 ペアワイズ

- 直交表の「組合せが同数回現れる制約」を外すことで多くの因子を数少ないテスト回数ですべてのペアを出す方法
  - スライド法
  - PICT
    - PictMaster

## 第５章　時間を網羅する

### 5.1 状態遷移テスト

- 状態遷移図と状態遷移表
- 関係行列とNスイッチカバレッジ
  - GIHOZ
- 状態遷移テストの実際
  - ハードウェアの状態
  - ソフトウェアの状態
  - 外の世界の状態

### 5.2 並列処理テスト

- 現時点でうまい手段はない

## 第６章　多次元の品質

### 6.1 ソフトウェアテスト
  
|種類|目的|
|---|---|
|派生開発テスト／テストレベル|追加開発を中心にテスト／段階的テスト|
|テストタイプごとのテスト|ソフトウェアの特性を中心にテスト|
|静的テスト|コード量や複雑度などを静的にテスト|
|動的テスト|動かしてみて振る舞いを確認するテスト|
|テスト専門者によるテスト|バグの検出と品質の確認|

- テストの効率性
  - ツール等を整備し簡単に多くの情報を取得できるようにする

### 6.2 ソフトウェアテストとは何か

- 構造の側面と振る舞いの側面の両方がテスト対象

### 6.3 シナリオテスト

- 人の動きを中心に書く
- 狭く深くシナリオを書く
- 抽象的ではなく具体的に記述する
- 例外シナリオも書く

### 6.4 受け入れのテスト

- ユーザー環境でしか確認できない項目を明らかにした上で効率よく短い期間でテストを終えるようにする

### 6.5 品質保証のテスト

- リグレッション（デグレード）と回帰テスト
- サンプリングテスト
- 探針テスト
- 統計的テスト
