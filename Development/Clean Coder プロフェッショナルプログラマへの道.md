# Clean Coder プロフェッショナルプログラマへの道
## 序章　必読イントロダクション
## 第1章　プロ意識
- プロ意識
  - 名誉と誇り
  - 義務と責任
- 責任
  - 機能に危害を加えてはいけない
    - QAは何も見つけてはいけない
    - 動作することを「把握しなければ」いけない＝テストを書く
    - 自動QA
  - 構造に危害を加えてはいけない
    - 適切なコストで変更できること
- 労働倫理
  - 自分のキャリアの責任は自分にある
    - 自分の専門分野を知る
      - デザインパターン：GOFの24パターンについて説明できる。POSAのパターンを実際に使える知識がある。
      - 設計原則：SOLID原則を知っている。コンポーネントの原則を熟知している。
      - 方法論：XP・スクラム・リーン・カンバン・ウォーターホール・構造化分析・構造化設計を理解している。
      - 規律：TDD・オブジェクト指向・構造化プログラミング・継続的インテグレーション・ペアプログラミングを実践している。
      - 成果物：UML・DFD・構造チャート・ペトリネット・状態遷移図・状態遷移表・フローチャート・デシジョンテーブルの使い方を知っている。
    - 継続的学習
    - 練習
      - 「型」：反復練習
    - 協力
    - 指導
    - ドメインを知る（顧客のビジネスを知る）
    - 雇用主や顧客に対して親身になる
    - 謙虚
## 第2章　「ノー」と言う
- 反対者の役割
  - 最善の成果を生み出す
- 「なぜ」について
  - 「なぜ」よりも「事実」の方が重要
- 大金
  - 大金がかかった時は、絶対に「ノー」をいう必要がある
- チームプレイヤーになる
  - 試しにやってみては断る
  - 受動的攻撃（言ったこと、やったことの記録を取っておく）
- 「イエス」と言う代償
  - 正しい「イエス」をいうためには、「ノー」と言うことも必要
- コードの実現不可能性 => 実現は可能
## 第3章　「イエス」と言う
- 約束の言葉
  - 約束には3つ段階がある
    1. あとでやると言う     実際にはやらない
    2. 今からやろうと思う   実査にはやらない
    3. 実際にやる
  - 約束の欠如を認識する
    - する必要がある・しなければいけない
    - ～するといいんだけど・～したい
    - やりましょう
  - 約束の言葉
    - 誰かにやってもらおうとするからうまくいかない
      - 約束できるのは自分で制御できることだけ
      - 目標に近づく自分の行動を約束する
    - できるかどうかわからないからうまくいかない
      - 目標に近づく行動を約束する
    - 時間に間に合わないことがあるからうまくいかない
      - できない時は早く連絡する
- 「イエス」を言う方法を学ぶ
  - 規律を持って約束する
## 第4章　コーディング
- 準備
  1. 解決する問題と解決方法を理解する
  2. 調査・顧客と交渉し、本当のニーズに合わせる
  3. 既存システムに適合し、依存性管理も行う（SOLID原則）
  4. 他のプログラマが読みやすいものでなければならない
- やらないこと
  - 疲労時や注意散漫のとき
  - イライラ・不安なとき
  - フローゾーン（意外と危険）
  - 音楽
  - 割り込み
- 書きたいのにかけない
  - ペアのパートナーを見つける
  - 創造的なインプット
  - デバッグ（TDDで時間短縮）
- 自分のペースを保つ（ソフトウェア開発はマラソンだ）
  - 去り際を知る
  - 車で家に帰る
  - シャワー
- 遅れることもある => 毎日報告
  - 期待してはいけない
  - 緊急対応をしようとしてはいけない
  - 残業しても効率は上がらない
  - ウソの伝達 => 完了の定義
- ヘルプ => チームで働く
  - 他の人を手伝う
  - 手伝ってもらう
  - 指導
## 第5章　テスト駆動開発
- TDDは効果がある（プロの選択）
- TDDの3原則
  - 失敗するユニットテストを書くまでプロダクションコードを書いてはいけない
  - テストを失敗させる目的以外でユニットテストを書いてはいけない
  - 失敗しているユニットテストが成功するまで他のプロダクションコードを書いてはいけない
- 利点
  - 確実性
  - 欠陥混入率
  - 勇気
  - ドキュメント
  - 優れた設計
## 第6章　練習
- あらゆるプロはスキルを磨く練習をする
- コーディング道場
  - 型
    - ボウリングゲーム
    - 素因数分解
    - ワードラップ
  - 技
    - ペアプログラミング
  - 乱取り
    - モブプラミング
- 経験を広げる
  - オープンソース
  - 練習は自分で自主的に（仕事ではない）
## 第7章　受け入れテスト
- 要求のコミュニケーション
  - プログラマとビジネスのコミュニケーションで問題となるのは「要求」
  - 早すぎる詳細化
    - 不確定性原理（観察者効果）：新しい情報が味方を変える
    - 見積りの不安
  - 後期の曖昧性
    - 難癖に注意
- 受け入れテスト
  - 「完了」の定義：曖昧にしない
  - コミュニケーション・明確性・正確性
  - 自働化：手動→自動
  - 余分な仕事（テストを書くのは余分ではない）
  - 誰がいつ受け入れテストを書くのか？
    - 理想は、ステークホルダーとQAが協力してテストを書き、開発者がレビューする
    - 開発者が書くなら実装者以外が書く
  - 開発者の役割：テスト可能な環境の構築
  - テストの交渉と受動的攻撃
  - 受け入れテストとユニットテスト
    - 受け入れテスト≠ユニットテスト
    - ユニットテスト：プログラマがプログラマのために書くもの
    - GUIなどの面倒なこと
    - 継続的インテグレーションシステム
## 第8章　テスト戦略
- QAは何も見つけてはいけない
  - QAはチームの一員
    - 仕様を見つけるQA：正常系＝ビジネス、コーナーケース・境界値＝QA
    - 特性を見つけるQA：探索テスト
- テスト自動化ピラミッド

  |割合|テスト|手段|
  |---|---|---|
  |～5%|手動探索テスト|手動|
  |～10%|システムテスト|gui|
  |～20%|インテグレーションテスト|api|
  |～50%|コンポーネントテスト|api|
  |～100%|ユニットテスト|XUnit|

  - ユニットテスト
    - プログラマがプログラマのために書くもの
    - カバレッジは100%
  - コンポーネントテスト
    - 受け入れテストの一部
  - インテグレーションテスト
    - コンポーネントの数が多い大規模システムに使用する
  - システムテスト
    - 統合したシステム全体の自動テスト：究極的なインテグレーションテスト
  - 手動探索テスト
    - 操作して画面を観ながらテストする
## 第9章　時間管理
- 時間は限られている
- 会議
  1. 会議は必要だ
  2. 会議は時間の無駄だ
  - 参加を断る
  - 立ち去る
  - 議題と目標を持つ
  - スタンドアップミーティング
    1. 昨日やったことは？
    2. 今日やることは？
    3. 問題点は？
  - イテレーション計画会議：2時間未満
  - イテレーションレトロスペクティブとデモ：それぞれ20分・25分
  - 議論と意見の不一致
    - 「5分で決着のつかない議論は、議論では決着がつかない」ケント・ベック
    - チームでの投票など
- 集中力のマナ
  - 睡眠
  - カフェイン
  - 充電
  - 筋肉の集中力
  - インプット対アウトプット
- タイムボックスとトマト
  - 25分稼働＋5分休憩 × 4 → 30分休憩
- 回避
  - 優先順位の逆転をせず、優先順位通りにこなす
- 袋小路：入ったら引き返す
- 沼・沼・沼：コードをクリーンでシンプルに保つ
## 第10章　見積もり
- 最もシンプルで最も恐ろしいもの
- 見積りとは何か？
  - コミットメント（達成しなければならないもの）
  - 見積り（予測）
  - 暗黙のコミットメント（をしないように気をつける）
- PERT
  - 3点見積り
    - O：楽観値（極端に楽観的な数値）
    - N：標準値（最も確率の高い数値）
    - P：悲観値（極端に悲観的な数値）
    - μ = (O + 4N + P)/6
    - σ = (P - O)/6
  - 作業を見積もる
    - 広域デルファイ法（チームで集まり、話し合い、見積りをする）
      - フライングフィンガー
      - プランニングポーカー
      - 親和的見積りの運用も可能
      - 3点見積りにも応用可能
    - 大数の法則
      - 見積りの正確性：大きな作業 < 小さな作業の合計
## 第11章　プレッシャー
- プレッシャーから逃れる：状況から逃れる
  - コミットメント：手を貸すが受け入れない
  - クリーンでいる：乱雑は遅い
  - 緊急時の規律：緊急時にも守れる規律を選び、常に守る
- プレッシャーを乗り越える
  - 慌てない
  - コミュニケーション
  - 規律を信頼する
  - 助けを呼ぶ
## 第12章　協力
- 「プログラマ」対「ピープル」
  - 「プログラマ」対「雇用主」
    - ビジネスの目標をしっかりと理解する
  - 「プログラマ」対「プログラマ」
    - コードの所有
    - 共同所有
    - ペア
  - 1人よりチームの方が良い仕事ができる
## 第13章　チームとプロジェクト
- 混ぜる？
  - 半分人間はいない
  - ゲル状のチーム
    - チーム作りには時間がかかる
    - プロジェクトの周りにチームを作らず
    - チームにプロジェクトを割り当てる
    - プロジェクトが終了してもチームは解散しない
  - 管理方法
    - チームに割合を指示する
    - プロジェクトオーナーは急にリソースを失うかもしれないので不安になる
## 第14章　指導・徒弟制度・職人気質
- 学位の不全
  - 学校では仕事は教えてくれない
- 指導
  - マニュアル
  - 人から盗む
  - 苦境や失敗から学ぶ
- 従弟制度
  - 医者は、医師免許取得前にインターンでオンジョブトレーニング
  - プログラマの技術不足で損失が出ている
  - ソフトウェアの従弟制度
    - マスター
    - ジャーニーマン：訓練を受けた・有能な・活動的なプログラマ
    - アプレンティス／インターン：ジャーニーマンの手伝い（1年間）
  - 現実
    - 監督方法が技術的でないことが問題
- 職人気質
  - 職人：プロ
  - 職人気質：職人の持つ考え方
    - 価値
    - 規律
    - 技術
    - 態度
    - 解答
  - これらは見せて伝える