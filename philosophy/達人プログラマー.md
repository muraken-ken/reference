# 達人プログラマー(第2版): 熟達に向けたあなたの旅
## まえがき
- 達人プログラマーになる性格
  - アーリーアダプター／新しい物好き
  - 研究好き
  - 批判的
  - 現実的
  - 何でも屋

> Tip 1：自らの技術に関心を持つこと

> Tip 2：あなたの仕事について考えること！

## 第1章 達人の哲学
- あなたは組織を変えることもできる、組織を変わることもできる

> Tip 3：あなたには現状を打破する力がある

- 信頼、責任

> Tip 4：いい加減な言い訳より対策を用意すること

- 時間とともに無秩序になる <=> 常にクリーンにする

> Tip 5：割れた窓を放置しておかないこと

> Tip 6：変化の触媒たれ

> Tip 7：大きな構想を忘れないようにすること

> Tip 8：品質要求を明確にすること

- やめ時を知ることも大事
- あなたの知識のポートフォリオ
  - 定期的に投資する
  - 多様化する
  - リスクを管理する
  - 安値で買い、高値で売る
  - 見直しと再配分をする

> Tip 9：あなたの知識のポートフォリオに対して定期的な投資を行うこと

- 毎年少なくとも言語を1つ学習する
- 月に1冊のペースで技術書を読む
- 技術書以外の書籍を読む
- 講習を受講する
- 近場のユーザーグループに参加する
- 異なった環境に慣れ親しんでみる
- 最先端にとどまり続ける

> Tip 10：見聞きしたものごとを批判的な目で分析すること

- 批判的な目
  - 「5つのなぜ」を問う
  - 誰にメリットがあるのか？
  - コンテキストは何か？
  - それはいつ、どこで有効になるか？
  - なぜこれが問題なのか？

> Tip 11：日本語をもうひとつのプログラミング言語として考えること

- 伝える
  - 聞き手のことを知る
  - 言いたいことを知る
  - タイミングを選ぶ
  - スタイルを選ぶ
  - 見栄えを良くする
  - 聞き手を巻き込む
  - 聞き手になる
  - 相手の立場になる

> Tip 12：伝えることがらと、伝える方法は車の両輪だと考えること

- ドキュメントとコードをまとめる

> Tip 13：ドキュメントは付け足すものではなく、作り上げるものである

## 第2章 達人のアプローチ

- ETCの原則：変更をしやすくする（Easier To Change）

> Tip 14：よい設計は悪い設計よりも変更しやすい

- ETCはルールでなく価値

> Tip 15：DRY原則：Don't Your Repeat（繰り返しを避けること）

- DRY
  - コードの二重化
  - ドキュメントの二重化
  - データの二重化
  - 表現上の二重化
    - 内部APIの間での二重化
    - 外部APIの間での二重化
    - データソースの二重化
  - 開発者間の二重化

> Tip 16：再利用しやすいようにしておくこと

- 直交性
  - 生産性の向上
  - リスクの低減
  - テスト、保守が簡単

> Tip 17：関係のないもの同士の影響を排除すること

- コードの結合度を最小化する
  - グローバル変数を避ける
  - 類似機能を避ける

> Tip 18：最終決定などというものは存在しない

- アーキテクチャー

> Tip 19：流行を追い求めないようにする

- せん光弾
  - 早いうちからユーザーにものを提示できる
  - 開発者の活躍できる舞台を生み出せる
  - テスト用のプラットフォームを入手できる
  - デモ可能なものを手にできる
  - 進捗が明確になる

> Tip 20：目標を見つけるにはせん光弾を使うこと

- プロトタイピング
  - 使い捨てのコード（簡単につくり確認が目的）
  - ポストイットでもよい
  - 適用
    - アーキテクチャー
    - 既存システムに追加する新機能
    - 外部データの構造や内容
    - サードパーティーのツールやコンポーネント
    - パフォーマンスの問題
    - ユーザーインターフェースの設計

> Tip 21：プロトタイプの真の目的は学びにある

- 専用の言語

> Tip 22：問題領域に近いところでプログラミングを行うこと

- 見積り
- 見積り単位
  - 1～15日：日
  - 3～8週 ：週
  - 8～20週：月
  - 20週超 ：見積りを行う前にしっかりと考える

> Tip 23：後でびっくりしないために、見積りを行うこと

- 見積り
  - 尋ねられている内容を理解する
  - システムのモデル化を行う
  - モデルをコンポーネントに分割する
  - 各パラメータに値を与える
  - 答えを計算する
  - 自らの見積り能力を見誤らないこと

- スケジュールを見積もる
  - PERT（Program Evaluation and Review Technique）
    - 楽観的時間
    - 最確時間
    - 悲観的時間
  - 象を一頭食べる方法 => 一口づつ
    - 要求の洗い出しを行う
    - リスクを分析する
    - 設計と実装、統合を行う
    - ユーザーとともに検証する

> Tip 24：規律に従ってスケジュールを繰り返し、精度を向上させていくこと

- 見積りを要求された場合の答え => 「後ほどお持ちします」いい加減な見積りはシミのように消えない

## 第3章 基本的なツール
- プレインテキストの威力
  - 知識を永続的に格納するために適している
  - 時代の流れによる陳腐化に対する保険
  - 既存ツールでの活用性
  - テストの容易さ

> Tip 25：知識はプレインテキストに保存すること

- 貝殻（シェル）遊び
  - シェル：応用範囲が広く何でもできる -> 生産性高い
  - GUI：WYSIWYG（What You See Is What You Get.）便利な反面、適用範囲は決まっている

> Tip 26：コマンドシェルの力を使うこと

- パワーエディット
  - 熟達する
  - 拡張機能で強化する

> Tip 27：エディターに熟達すること

- バージョン管理

> Tip 28：常にバージョン管理システムを使用すること

- デバッグ
  - バグの再現
  - エラーメッセージを読む
  - 入力値から探る
  - リリース間での回帰テスト
  - 二分探索法
  - ログ、トレース
  - 順を追って説明する（アヒルちゃん）
  - 問題は我々の側にあると認識する
  - 仮定を置かないであらゆる可能性を考慮する

> Tip 29：非難するのではなく、問題を修復すること

> Tip 30：パニクるな

> Tip 31：コードの修正前にテストを失敗させること

> Tip 32：エラーメッセージをちゃんと読む

> Tip 33："select"は壊れていない（問題は我々に側にある）

> Tip 34：仮定を置かずに、証明すること

- テキスト操作言語

> Tip 35：テキスト操作言語を学ぶこと

- エンジニアリング日誌
  - 記録は記憶よりも確実
  - アイデアを残せる
  - 書くことで間違いに気づける

## 第4章 妄想の達人

- 自分自身も含めて信頼しない

> Tip 36：あなたは完璧なソフトウェアを作ることができない

- 契約による設計（DbC）
  - 事前条件
  - 事後条件
  - クラス不変表明

> Tip 37：契約を用いて設計を行うこと

- 死んだプログラムは嘘をつかない

> Tip 38：早めにクラッシュさせること

- 表明を用いたプログラミング
  - assertなどで明示的にチェック

> Tip 39：もし起こり得ないというのであれば、表明を用いてそれを保証すること

- リソースのバランス方法
  - 割り当て
  - 使用
  - 解放

> Tip 40：始めたことは終わらせる

> Tip 41：ものごとを局所的にする

- ヘッドライトを追い越そうとしない
  - REPL（Read Eval Print Loop：読み込み／評価／出力の繰り返し）=> APIやアルゴリズムの理解
  - ユニットテスト => 設計変更したコードに対するフィードバック
  - デモ、対話 => 機能や使い勝手に対するフィードバック

> Tip 42：少しずつ進めること --- 常に

- ブラック・スワン
  - 歴史上の重要な出来事は、常識の範疇を超えた、滅多に発生しない、予測しづらく、影響範囲の広い

> Tip 43：予言は避ける

## 第5章 柳に雪折れ無し

- 分離
  - メソッド呼び出しの連鎖
  - グローバリゼーション
  - サブクラス化

> Tip 44：分離されたコードは変更しやすい

> Tip 45：照会せずに依頼する（TDA：Tell, Don't Ask）

> Tip 46：メソッド呼び出しを連鎖させないこと

> Tip 47：帯域データを避ける

> Tip 48：帯域データにするだけ重要なものである場合、APIでラップする

- 実世界を扱う
  - イベント
    - 有限状態機械（FSM）
    - Observerパターン
    - Publish/Subscribeプロトコル
    - リアクティブプログラミングとストリーム、イベント

- 変換のプログラミング

> Tip 49：プログラミングとはコードについての話であるが、プログラムはデータについての話である

> Tip 50：状態をため込まず、引き渡すようにする

- 相続税（インヘリタンス）
  - 優れた代替が存在する
    - インターフェイスとプロトコル
    - 移譲
    - mixinとtrait

> Tip 51：インヘリタンス（相続）税を払わないこと

> Tip 52：ポリモーフィズムの表現にはインターフェイスを愛用すること

> Tip 53：サービスに異常すること：has-aはis-aに勝る

> Tip 54：機能の共有にはmixinを使用する

- 設定
  - 静的な設定
  - サービスとしての設定（CaaS：Configuration-as-a-Service）

> Tip 55：外部設定を用いてアプリやパラメーターに対応させる

## 第6章 並行性
- 時間的な結合を破壊する
  - 順序 => 線形（人間が考えるとこれになりやすい）
  - 並行性 => アクティビティ図 => 並行処理の機会
  - 並行処理 => ソフトウェア
  - 並列処理 => ハード

> Tip 56：平行性を向上させるためにワークフローを分析する

- 共有状態は間違った状態
  - セマフォー
  - トランザクション
  - 複数リソースのトランザクション

> Tip 57：共有状態は間違った状態

> Tip 58：無秩序なエラーはしばしば平行処理によって引き起こされる

- アクターとプロセス

> Tip 59：共有状態を持たないアクターを並列処理で使用する

- ホワイトボード

> Tip 60：ワークフローを協調させるためにはホワイトボードというコンセプトを活用すること

## 第7章 コーディング段階

- 爬虫類脳からの声に耳を傾ける（本能と対話する）

> Tip 61：爬虫類脳に耳を傾ける

- 偶発的プログラミング

> Tip 62：偶発的プログラミングを行わないこと

- アルゴリズムのスピード
  - O記法
    - O(1)      ：定数
    - O(lg n)   ：対数（バイナリサーチ）
    - O(n)      ：線形（シーケンシャルサーチ）
    - O(n lg n) ：線形より悪い（クイックソート、ヒープソート）
    - O(n^2)    ：2乗（選択ソート、挿入ソート）
    - O(n^3)    ：3乗（2つの行列 n × m の積）
    - O(C^n)    ：指数（巡回セールスマン問題、集合分割）
  - 見積りの心得え
    - 単純なループ    ：O(n)に近い
    - ネストしたループ：O(n^2)に近い
    - 二分割          ：O(lg n)に近い
    - 分割統治法      ：O(n^2)に近い

> Tip 63：アルゴリズムのオーダーを見積もること

> Tip 64：見積りの検証を行うこと

- リファクタリング
  - リファクタリングのタイミング
    - 二重化：DRY原則に反しているものを発見した場合
    - 直交していない設計：直交性を高められる場合
    - 時代遅れの知識
    - 使用方法の変更
    - パフォーマンス
    - テストの合格
  - リファクタリングの進め方
    - リファクタリングと機能の追加を同時に行ってはいけない
    - しっかりしたテストが用意されていること。頻繁にテストを行う。
    - 各作業を小さな単位にまとめ、各単位ごとにテストする

> Tip 65：早めにリファクタリングすること、そしてこまめにリファクタリングすること

- コードのためのテスト
  - テスト駆動コーディング
    - テスト駆動開発（TDD）
  - テスト文化
    - 最初にテスト
    - 開発中にテスト
    - テストしない
  - プロパティベースのテスト

> Tip 66：テストとはバグを見つけることではない

> Tip 67：テストはコードのユーザー第1号である

> Tip 68：トップダウンでもボトムアップでもなく、エンドツーエンドで構築していく

> Tip 69：テスト設計を行うこと

> Tip 70：ソフトウェアをテストすること、さもなければユーザーにテストを強いることになる

> Tip 71：仮定を検証するためにプロパティベースのテストを使用すること

- 実世界の外敵から身を守る
  - セキュリティの基本原則
    - アタックサーフェイス（攻撃界面）を最小にする：複雑、入力、認証、出力、デバッグ情報
    - 最初権限の原則を順守する：
    - デフォルトをセキュアなものにする
    - 機密データを暗号化する
    - セキュリティアップデートを適用する

> Tip 72：KISSの原則を守り、アタックサーフェイスを最小化する

> Tip 73：セキュリティパッチはすぐに適用すること

- ものの名前
  - 文化を尊重する
  - 首尾一貫性
  - 名前の変更は難しい

> Tip 74：適切な名前をつけ、必要に応じてリネームすること

## 第8章 プロジェクトを始める前に
- 要求の落し穴
  - 真実の要求はプロセスの中にある
  - 相談者の靴を履いて歩く
  - 要求 VS ポリシー
  - 要求 VS 現実
  - 要求を文書化する
  - 用語集を管理する

> Tip 75：自らが欲しているものを正確に認識している人などいない

> Tip 76：プログラマーの仕事は、人々自身が欲しているものを自らで気付いてもらえるように支援すること

> Tip 77：要求はフィードバックの中で学んでいくものである

> Tip 78：ユーザーとともに働き、ユーザーのように考える

> Tip 79：ポリシーはメタデータである

> Tip 80：プロジェクトの用語集を作ること

- 不可能なパズルを解決する

> Tip 81：枠にとらわれずに考えるのではなく、枠を見つけ出すこと

- 共に働く
  - ペアプログラミング
  - モブプログラミング

> Tip 82：1人ぼっちでコーディングに取り組んではいけない

- コンウェイの法則：システムを設計する組織は、そのコミュニケーション構造を模倣するような設計に縛られる

- アジリティの本質
  - プロセスやルールよりも個人との対話を
  - 包括的なドキュメントよりも動くソフトウェアを
  - 契約交渉よりも顧客との協調を
  - 計画に従うことよりも変化への対応を

- アジャイルなプロセスなどあり得ない
  - 自らの現在地点を見つけ出す
  - 目的地点に向けて、最も意味のある最小単位の1歩を踏み出す
  - 現在地点を評価し、問題があれば修正する

> Tip 83：Agileという言葉は名詞ではなく、ものごとの進め方を形容する形容詞である

## 第9章 達人のプロジェクト
- 達人のチーム
  - 割れた窓をなくす
  - 蛙の煮物
  - 知識ポートフォリオの充実に向けて計画する
    - 旧システムのメンテナンス
    - プロセスの振り返りと洗練
    - 新たなテクノロジーの実験
    - 学習とスキルの向上

> Tip 84：小規模で安定したチームを作ること

> Tip 85：事を成し遂げるにはまずスケジュールする

> Tip 86：完璧に機能するチームを編成すること

- ココナツでは解決できない
  - コンテキストが重要
  - どんな状況にも適用できる万能の方策など存在しない：銀の弾丸はない
  - 真のゴール：ソフトウェアをユーザーが調達できること

> Tip 87：流行りを追いかけるのではなく、効き目があるものごとを実行すること

> Tip 88：ユーザーが必要としたタイミングで調達すること

- 達人のスターターキット
  - バージョン管理を活用する
  - 容赦のない継続的テスト
    - ユニットテスト
    - 結合テスト
    - 妥当性確認及び検証
    - パフォーマンステスト
    - テストをテストする
    - 徹底的なテスト
    - プロパティベースのテスト
    - 網の目を細かくする
   - 完全な自動化

> Tip 89：バージョン管理によってビルド／テスト／リリース／を駆動すること

> Tip 90：早めにテスト、何度もテスト、自動でテスト

> Tip 91：テストがすべて終わるまでコーディングは終わらない

> Tip 92：テストのテストをするには破壊工作を試みる

> Tip 93：コードのカバレージではなく、状態のカバレージをテストすること

> Tip 94：同種のバグを一度に見つけること

> Tip 95：手作業を排除する

- ユーザーを喜ばせる

> Tip 96：単にコードを調達するのではなく、ユーザーを喜ばせる

- 自負と偏見

> Tip 97：あなたの作品に署名すること

## あとがき
- 教訓の羅針盤
  - 私はユーザーを守っているか？
  - 自分でもこれを使用する気になるだろうか？

> Tip 98：とにかく害をなさないようにすること

> Tip 99：極悪なことを実行できるようにしない

- 自らの未来をイメージする

> Tip 100：これはあなたの人生だ。皆と共有し、祝福し、生み出していくこと。そして思いっきり楽しむこと
